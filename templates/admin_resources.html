{% extends "admin_base.html" %}

{% block title %}Resources | Admin{% endblock %}

{% block content %}
<h1>Resources</h1>

<form method="POST" enctype="multipart/form-data">

  <input type="text" name="title" placeholder="Resource title" required>

  <input type="text" name="category" placeholder="Category (Notes, PDFs, Links)" required>

  <select name="resource_type" required>
    <option value="link">External Link</option>
    <option value="file">Upload File</option>
  </select>

  <input type="url" name="url" placeholder="Paste link (if link)">

  <input type="file" name="file">

  <textarea name="description" placeholder="Short description"></textarea>

  <button type="submit">Add Resource</button>
</form>

{% if resources %}
  {% for r in resources %}
  <div class="card">
    <strong>{{ r[1] }}</strong>

    <p>{{ r[4] }}</p>

    <small>
      Type: {{ r[2] }} Â·
      <a href="{{ r[3] }}" target="_blank">Open</a>
    </small>

    <div style="margin-top:12px;">
      <a class="btn" href="/admin/resources/edit/{{ r[0] }}">Edit</a>

      <a
        class="btn btn-danger"
        href="/admin/resources/delete/{{ r[0] }}"
        onclick="return confirm('Delete this resource?')"
      >
        Delete
      </a>
    </div>
  </div>
{% endfor %}
{% else %}
  <p>No resources added yet.</p>
{% endif %}

{% endblock %}

